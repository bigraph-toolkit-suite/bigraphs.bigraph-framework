---
id: converter
title: Converting Bigraphs
---

<!--# Converting Bigraphs-->

A bigraph model may be converted to and from several different formats,
including GraphML, [BigMC](http://bigraph.org/bigmc/), [GXL](http://www.gupro.de/GXL/) and
[BigraphER](http://www.dcs.gla.ac.uk/~michele/bigrapher.html).

Therefore, the module dependency `bigraph-converter` contains the corresponding
encoders/pretty printers etc.

## Conversions to other bigraph tools

The following bigraph tools are supported by now:
{@inject: supportedConversions}

The encoding follows the same prinicpal schema. The specific implementation of the interface `ReactiveSystemPrettyPrinter`
has to be instantiated. The generated output can be printed to the console or redirected to an output stream:
<AUTOGENERATED_TABLE_OF_CONTENTS>

### `String toString(R system)`

Returns the result of a reactive system encoding as string.

### `void toOutputStream(R system, OutputStream outputStream)`

Redirects the result of an encoding to an output stream.



> Note that the existing bigraph tools vary in their feature set.
> That means that not all properties specified in Bigraph Framework may be directly translated to the language supported by each tool.

### BigMC

```java
// specify some reactive system
PureReactiveSystem reactiveSystem = ...;

BigMcTransformator prettyPrinter = new BigMcTransformator();
String bigmcEncoding = prettyPrinter.toString(reactiveSystem);
System.out.println(bigmcEncoding);

FileOutputStream fout = new FileOutputStream(new File("bigmc.bgm"));
prettyPrinter.toOutputStream(reactiveSystem, fout);
fout.close();
```

### BigraphER

```java
// specify some reactive system
PureReactiveSystem reactiveSystem = ...;

BigrapherTransformator prettyPrinter = new BigrapherTransformator();
String bigrapherEncoding = prettyPrinter.toString(reactiveSystem);
System.out.println(bigrapherEncoding);

FileOutputStream fout = new FileOutputStream(new File("bigrapher.big"));
prettyPrinter.toOutputStream(reactiveSystem, fout);
fout.close();
```

### BigRed

#### Exporting Signatures for BigRed

To export a `DefaultDynamicSignature` as BigRed `*.bigraph-signature` file, you may use the `SignatureAdapter` class
in combination with BigRed's `org.bigraph.model.savers.SignatureXMLSaver`:

```java
DefaultDynamicSignature signature = ...;
SignatureAdapter signatureAdapter = new SignatureAdapter(signature);

PrintStream out = new PrintStream(System.out);
SignatureXMLSaver sx = new SignatureXMLSaver();
sx.setModel(signatureAdapter)
    .setOutputStream(out);
sx.exportObject();
```

This approach mainly used the underlying functionality of the BigRed library.

#### Loading BigRed XML files (Signatures, Agents, Rules, Simulation Specification)

To load a BigRed `*.bigraph-signature` file use the `de.tudresden.inf.st.bigraphs.converter.bigred.DefaultSignatureXMLLoader` class:

```java
DefaultSignatureXMLLoader sxl = new DefaultSignatureXMLLoader();
sxl.readXml("path/to/signatures/printing.bigraph-signature"));
DefaultDynamicSignature signature = sxl.importObject();
```

To load a BigRed `*.bigraph-agent` file use the `de.tudresden.inf.st.bigraphs.converter.bigred.DefaultBigraphXMLLoader` class:

```java
DefaultBigraphXMLLoader bxl = new DefaultBigraphXMLLoader();
bxl.readXml("path/to/agents/simple.bigraph-agent");
PureBigraph simpleBigraph = bxl.importObject();
```

BigRed agent specifications are imported as `PureBigraph` instances.


To load a BigRed `*.bigraph-rule` file use the `de.tudresden.inf.st.bigraphs.converter.bigred.DefaultReactionRuleXMLLoader` class:

```java
DefaultReactionRuleXMLLoader rxl = new DefaultReactionRuleXMLLoader();
rxl.readXml("path/to/rules/finish-job.bigraph-rule");
ParametricReactionRule<PureBigraph> finishJob = rxl.importObject();
```

BigRed reaction rule specifications are imported as `ParametricReactionRule<PureBigraph>` instances.


The loaders are separate and custom implementations that parse BigRed's XML files.
They do not use the underlying functionality of the BigRed library as the adapter class for writing bigraph entities.

To load a BigRed `*.bigraph-simulation-spec` file, use the `de.tudresden.inf.st.bigraphs.converter.bigred.DefaultSimulationSpecXMLLoader` class:

```java
DefaultSimulationSpecXMLLoader ssxl = new DefaultSimulationSpecXMLLoader();
ssxl.readXml("path/to/simple.bigraph-simulation-spec");
PureReactiveSystem pureReactiveSystem = ssxl.importObject();
```

A BigRed simulation specification represents a bigraphical reactive system and is imported as a `PureReactiveSystem` instance.
