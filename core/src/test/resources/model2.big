# Signature
ctrl R = 1;
ctrl U = 0;
ctrl S = 0;
ctrl D = 0;
ctrl C = 0;

# some elementary bigraphs
# big join = id | id;
# big g11 = ([{1}, {0}], 2);

# Initial state

big a = R{a} * (C.1 | (U . S . D. 1));
big b = R{a} * (C.1);
big g = a | b; # ground form
big s0 = g;

# Reaction rules

react transmitRule = 
(U . S . D. 1) | C.id 
-> 
(U . S.1) | (C . (D.1  | id));

react generateData = 
S.1
-> 
S . D .1;

react moveRoom = 
R{a}.(id | U.id) || R{a}.id
-->
R{a}.id || R{a}.(U.id | id);
#@ [1, 2, 2];

# Reactive system
begin brs
  init s0;
  rules = [ {moveRoom, generateData, transmitRule} ];
end
